<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>阿伟博客</title>
  
  <subtitle>分享我的数字世界探索之旅 </subtitle>
  <link href="https://irwei.com/atom.xml" rel="self"/>
  
  <link href="https://irwei.com/"/>
  <updated>2025-07-20T07:48:02.971Z</updated>
  <id>https://irwei.com/</id>
  
  <author>
    <name>阿伟</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>你好!新中国！</title>
    <link href="https://irwei.com/p/china/"/>
    <id>https://irwei.com/p/china/</id>
    <published>2025-05-19T21:14:00.082Z</published>
    <updated>2025-07-20T07:48:02.971Z</updated>
    
    <content type="html"><![CDATA[<p>我爱你亲爱的祖国！</p><p><img src="https://tc-212.pages.dev/1743856485768.png" alt="中国"></p>]]></content>
    
    
    <summary type="html">我爱你中国</summary>
    
    
    
    <category term="中国" scheme="https://irwei.com/categories/%E4%B8%AD%E5%9B%BD/"/>
    
    
    <category term="中国" scheme="https://irwei.com/tags/%E4%B8%AD%E5%9B%BD/"/>
    
  </entry>
  
  <entry>
    <title>BookNav - 轻量级导航类似OneNav，避免免费虚拟主机吃灰</title>
    <link href="https://irwei.com/p/BookNav/"/>
    <id>https://irwei.com/p/BookNav/</id>
    <published>2025-04-25T07:16:59.007Z</published>
    <updated>2025-04-25T07:16:59.779Z</updated>
    
    <content type="html"><![CDATA[<h1 id="BookNav-网页收藏夹，随时随地访问"><a href="#BookNav-网页收藏夹，随时随地访问" class="headerlink" title="BookNav - 网页收藏夹，随时随地访问"></a>BookNav - 网页收藏夹，随时随地访问</h1><hr><h2 id="🔗-项目地址-BookNav"><a href="#🔗-项目地址-BookNav" class="headerlink" title="🔗 项目地址: BookNav"></a>🔗 <strong>项目地址</strong>: <a href="https://github.com/iawooo/BookNav">BookNav</a></h2><h1 id="项目截图"><a href="#项目截图" class="headerlink" title="项目截图"></a>项目截图</h1><p><img src="https://tc-212.pages.dev/1744458795826.png" alt="BookNav"></p><h1 id="项目演示站-https-cc-ct8-pl-密码：admin）（数据库设置了只读）"><a href="#项目演示站-https-cc-ct8-pl-密码：admin）（数据库设置了只读）" class="headerlink" title="项目演示站 https://cc.ct8.pl/  密码：admin）（数据库设置了只读）"></a>项目演示站 <a href="https://cc.ct8.pl/">https://cc.ct8.pl/</a>  密码：admin）（数据库设置了只读）</h1><h2 id="✨-前言：为什么选择-BookNav？"><a href="#✨-前言：为什么选择-BookNav？" class="headerlink" title="✨ 前言：为什么选择 BookNav？"></a>✨ 前言：为什么选择 BookNav？</h2><p>市面上虽有许多免费虚拟主机，但它们往往伴随着各种限制：空间不足、数据库受限、带宽瓶颈、点击量上限，甚至强制插入广告。如果您想部署个人网站或博客，稍有流量便可能不堪重负。这时，部署一个轻量级的导航工具作为您的网页收藏夹，不仅能满足日常需求，还能让虚拟主机“物尽其用”，一劳永逸！</p><p>许多免费虚拟主机以稳定性著称，例如：</p><ul><li>🌐 <a href="https://www.freehostia.com/">Freehostia</a>（据称已稳定运行超20年）</li><li>🌐 <a href="https://www.infinityfree.com/">InfinityFree</a>（稳定运营十余年）</li><li>🌐 serv00和ct8<br>BookNav 完美适配这些平台，部署后即可作为您的私人收藏夹，免去频繁维护的烦恼。当然，您也可以选择 Vercel 部署，或者将其打造为一个开放式导航站——简单灵活，支持 VPS，满足多样化需求。</li></ul><hr><h2 id="🚀-部署教程：三步打造您的专属收藏夹"><a href="#🚀-部署教程：三步打造您的专属收藏夹" class="headerlink" title="🚀 部署教程：三步打造您的专属收藏夹"></a>🚀 部署教程：三步打造您的专属收藏夹</h2><h3 id="1-下载源代码"><a href="#1-下载源代码" class="headerlink" title="1. 下载源代码"></a>1. 下载源代码</h3><p>从 <a href="https://github.com/iawooo/BookNav">GitHub 项目地址</a> 下载 BookNav 的最新源代码。</p><h3 id="2-上传到虚拟主机"><a href="#2-上传到虚拟主机" class="headerlink" title="2. 上传到虚拟主机"></a>2. 上传到虚拟主机</h3><p>文件结构一览：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public_html/</span><br><span class="line">  ├── add.php              # 添加书签的入口</span><br><span class="line">  ├── backup.php           # 备份与恢复功能</span><br><span class="line">  ├── config.php           # 核心配置文件</span><br><span class="line">  ├── delete.php           # 删除书签脚本</span><br><span class="line">  ├── delete_category.php  # 删除分类脚本</span><br><span class="line">  ├── edit.php             # 编辑书签页面</span><br><span class="line">  ├── edit_category.php    # 编辑分类页面</span><br><span class="line">  ├── index.php            # 主页入口</span><br><span class="line">  ├── install.php          # 一键安装页面</span><br><span class="line">  ├── login.php            # 登录页面</span><br><span class="line">  ├── script.js            # 前端交互（拖拽、樱花特效等）</span><br><span class="line">  ├── style.css            # 样式文件</span><br><span class="line">  ├── images/              # 默认图标与 favicon</span><br><span class="line">  │   ├── default-bookmark.png</span><br><span class="line">  │   └── favicon.ico</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>上传：<ul><li>使用 FTP 工具（如 FileZilla）将整个文件夹上传到虚拟主机的 public_html 或指定目录。</li><li>例如，上传到 &#x2F;public_html&#x2F;</li></ul></li></ol><h3 id="3-访问站点"><a href="#3-访问站点" class="headerlink" title="3. 访问站点"></a>3. 访问站点</h3><ul><li>在浏览器中访问：<br><a href="http://yourdomain.com/">http://yourdomain.com/</a></li><li>填写配置数据库信息，绑定数据库</li><li>点击“安装”，系统会自动创建 config.inc.php 和 bookmarks 表。</li><li>登录后即可开始添加和管理书签！</li><li></li></ul><h2 id="亮点"><a href="#亮点" class="headerlink" title="亮点"></a>亮点</h2><ul><li><strong>超轻量级</strong>：源代码不到 100KB，占用空间小，加载快。</li><li><strong>简单部署</strong>：只需 PHP 和 MySQL，无需额外依赖，虚拟主机即可运行。</li><li><strong>灵感来源 OneNav</strong>：继承了 OneNav 的简洁设计，同时优化了功能和用户体验。</li><li><strong>高级图标抓取</strong>：自动从网页提取最佳图标（支持 <code>favicon.ico</code>、HTML 链接、Manifest 等）。</li><li><strong>书签管理</strong>：添加、编辑、删除书签，支持名称、URL、分类、图标和备注。</li><li><strong>拖拽排序</strong>：支持多级分类，分类权重可调，拖拽调整书签顺序。</li><li><strong>明暗主题</strong>：内置炫酷的渐变背景，支持一键切换明暗模式。</li><li><strong>樱花特效</strong>：动态樱花飘落效果，提升视觉体验。</li><li><strong>备份与恢复</strong>：导出书签数据为 JSON 文件，或从备份文件导入，支持清空现有数据。</li><li><strong>密码保护</strong>：简单登录机制，确保书签隐私。</li><li><strong>响应式设计</strong>：适配桌面和移动端，随时随地管理书签。</li><li><strong>搜索功能</strong>：快速搜索书签名称、URL、分类或备注。</li></ul><h2 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h2><ol><li><p><strong>书签管理</strong>：</p><ul><li>添加、编辑、删除书签。</li><li>支持分类管理（新建、修改、删除分类）。</li><li>可添加备注，方便记录额外信息。</li><li>权重调整，实时保存，多端访问</li></ul></li><li><p><strong>图标自动抓取</strong>：</p><ul><li>优先检查默认 <code>favicon.ico</code>。</li><li>解析 HTML 中的 <code>&lt;link&gt;</code> 标签（如 <code>rel=&quot;icon&quot;</code> 或 <code>apple-touch-icon</code>）。</li><li>支持 Web App Manifest 和 Microsoft <code>browserconfig.xml</code>。</li><li>使用 CORS 代理（如 <code>api.allorigins.win</code>）确保跨域抓取成功。</li><li>回退到 Google FaviconV2 服务。</li></ul></li><li><p><strong>用户体验</strong>：</p><ul><li>拖拽排序书签，实时保存顺序。</li><li>右键或长按书签显示编辑&#x2F;删除选项。</li><li>动态调整书签文本大小，确保显示完整。</li></ul></li><li><p><strong>视觉设计</strong>：</p><ul><li>渐变背景（明暗主题可选）。</li><li>半透明容器和阴影效果。</li><li>樱花飘落动画，提升趣味性。</li></ul></li><li><p><strong>备份与恢复</strong>：</p><ul><li>一键将所有书签和分类数据导出为 JSON 文件，文件名包含日期（如 bookmarks_backup_2025-03-19.json）。</li><li>上传 JSON 文件恢复数据，可选择清空现有数据后再导入。</li></ul></li><li><p><strong>密码保护</strong>：</p><ul><li>可选密码：安装时可设置网站访问密码，留空则无需密码。</li><li>安全登录：使用 Session 和安全的 Cookie（HttpOnly）管理登录状态，30 天有效。</li><li>自动登录：若未设置密码，系统默认允许直接访问。</li></ul></li></ol><h2 id="🌸-让收藏更美好"><a href="#🌸-让收藏更美好" class="headerlink" title="🌸 让收藏更美好"></a>🌸 让收藏更美好</h2><p>BookNav 不仅仅是一个工具，更是一种体验。无论是作为私人收藏夹，还是开放式导航站，它都能为您带来高效、优雅的管理方式。现在就试试 BookNav，让您的网页收藏之旅更加精彩！</p>]]></content>
    
    
    <summary type="html">让虚拟主机“物尽其用”，一劳永逸！防止吃灰。</summary>
    
    
    
    <category term="GitHub" scheme="https://irwei.com/categories/GitHub/"/>
    
    <category term="个人项目" scheme="https://irwei.com/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="telegram" scheme="https://irwei.com/categories/telegram/"/>
    
    <category term="cloudflare" scheme="https://irwei.com/categories/cloudflare/"/>
    
    
    <category term="GitHub" scheme="https://irwei.com/tags/GitHub/"/>
    
    <category term="个人项目" scheme="https://irwei.com/tags/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="telegram" scheme="https://irwei.com/tags/telegram/"/>
    
    <category term="cloudflare" scheme="https://irwei.com/tags/cloudflare/"/>
    
    <category term="BookNav" scheme="https://irwei.com/tags/BookNav/"/>
    
    <category term="书签导航" scheme="https://irwei.com/tags/%E4%B9%A6%E7%AD%BE%E5%AF%BC%E8%88%AA/"/>
    
    <category term="导航站" scheme="https://irwei.com/tags/%E5%AF%BC%E8%88%AA%E7%AB%99/"/>
    
  </entry>
  
  <entry>
    <title>[cftc]-基于cloudflare图床,支持tg机器人面板和网页管理,上传,自定义后缀等</title>
    <link href="https://irwei.com/p/cftc/"/>
    <id>https://irwei.com/p/cftc/</id>
    <published>2025-04-16T07:05:45.403Z</published>
    <updated>2025-07-19T23:47:41.944Z</updated>
    
    <content type="html"><![CDATA[<h1 id="cftc-支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）"><a href="#cftc-支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）" class="headerlink" title="cftc 支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）"></a><a href="https://github.com/iawooo/cftc/">cftc</a> 支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）</h1><h2 id="cftc-支持R2-telegram存储，多多star后期可能会跟进B2-S3等存储"><a href="#cftc-支持R2-telegram存储，多多star后期可能会跟进B2-S3等存储" class="headerlink" title="cftc 支持R2 telegram存储，多多star后期可能会跟进B2 S3等存储"></a><a href="https://github.com/iawooo/cftc/">cftc</a> 支持R2 telegram存储，多多star后期可能会跟进B2 S3等存储</h2><h1 id="项目地址：https-github-com-iawooo-cftc-感谢你们的star"><a href="#项目地址：https-github-com-iawooo-cftc-感谢你们的star" class="headerlink" title="项目地址：https://github.com/iawooo/cftc/ 感谢你们的star"></a>项目地址：<a href="https://github.com/iawooo/cftc/">https://github.com/iawooo/cftc/</a> 感谢你们的star</h1><h2 id="📸-截图"><a href="#📸-截图" class="headerlink" title="📸 截图"></a>📸 截图</h2><table><thead><tr><th>Telegram 交互</th><th>网页管理</th></tr></thead><tbody><tr><td><img src="https://awtc.pages.dev/bot.png" alt="Telegram 交互"></td><td><img src="https://awtc.pages.dev/web.png" alt="网页管理"></td></tr></tbody></table><h2 id="✨-核心特性"><a href="#✨-核心特性" class="headerlink" title="✨ 核心特性"></a>✨ 核心特性</h2><ul><li><p><strong>与 <a href="https://github.com/iawooo/ctt">CTT</a> 项目协同，实现一举两得</strong></p><ul><li><strong>提升整体效率</strong>：与  <a href="https://github.com/iawooo/ctt">CTT</a>  项目无缝协作，共享 Telegram 生态的优势。群组中用户既能享受 CTT 的消息转发功能，又能把群组当存储，最大化 Telegram 群组的价值。（不能共用一个机器人）</li></ul></li><li><p><strong>Telegram 机器人驱动的智能管理</strong></p><ul><li><strong>随时随地操作</strong>：内置 Telegram 机器人提供直观的菜单面板，支持上传、修改后缀、管理和分类文件等功能。用户通过简单按钮即可完成复杂操作，无需专业技能，管理文件如同聊天般轻松。</li></ul></li><li><p><strong>永久直链的革命性体验</strong></p><ul><li><strong>提升用户体验</strong>：通过先删除旧文件、上传新文件并修改直链后缀为旧后缀。用户可以在不更改链接的情况下频繁更新文件内容（如替换照片或文档），特别适合博客、电商或需要稳定链接的场景。</li></ul></li><li><p><strong>Cloudflare workers&#x2F;pages部署</strong></p><ul><li><strong>快速上手</strong>：代码简单，部署代码，填写变量便能使用。</li><li><strong>免费永久稳定的图床服务</strong>  Cloudflare 的业界领先稳定性，一旦部署，文件托管长期可靠，无需担心服务中断或数据丢失，一劳永逸，节省维护精力。</li></ul></li><li><p><strong>Cloudflare D1 数据库</strong></p><ul><li><strong>高效存储</strong>：使用Cloudflare D1这个根本用不完的数据库存储用户设置和文件元数据，避免用kv这个少得可怜还造成动不动扣费的现象。</li></ul></li><li><p><strong>利用 Telegram 群组的无限免费存储</strong></p><ul><li><strong>零成本存储</strong>：利用 Telegram 群组作为免费存储后端，空间近乎无限，成本为零。用户无需额外付费即可托管图片、视频和文档，轻松实现高性价比的图床。</li></ul></li><li><p><strong>灵活的双存储模式</strong></p><ul><li><strong>灵活适配，覆盖广泛</strong>：支持 Telegram 存储和 Cloudflare R2 存储两种模式，用户可根据需求自由切换。Telegram 模式适合轻量文件，R2 模式支持大文件和高性能，满足从个人分享到企业托管的多种场景。</li></ul></li><li><p><strong>动态直链后缀修改</strong></p><ul><li><strong>直链可复用</strong>：cftc 允许用户随时修改文件直链的后缀，无需更改文件内容即可生成新链接。改变了传统图床“修改内容必须更换直链”的限制，实现动态化管理。</li></ul></li></ul><h2 id="部署教程"><a href="#部署教程" class="headerlink" title="部署教程"></a>部署教程</h2><p>大佬部署可以直接看变量表</p><h4 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h4><p><strong>创建Telegram Bot</strong>（获取<code>TG_BOT_TOKEN</code>变量）：</p><ul><li>在Telegram中找到<code>@BotFather</code>，发送<code>/newbot</code>创建新机器人。</li><li>按照提示设置机器人名称和用户名，获取Bot Token（例如<code>123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11</code>）。<br><strong>创建后台群组</strong>（获取<code>TG_STORAGE_CHAT_ID</code>变量）：<br><strong>可与<a href="https://github.com/iawooo/ctt">CTT</a> 项目共用群组如果部署过<a href="https://github.com/iawooo/ctt">CTT</a> 项目，此步骤省略</strong></li><li>创建一个Telegram群组（按需设置是否公开），</li><li>添加机器人为管理员。</li><li>获取群组的Chat ID（例如<code>-100123456789</code>），可以通过<code>@getidsbot</code>获取（拉它进群）。<br><img src="https://awtc.pages.dev/1.png" alt="step 1"><br><img src="https://awtc.pages.dev/2.png" alt="step 2"></li></ul><h4 id="创建D1-SQL数据库（获取DATABASE变量）"><a href="#创建D1-SQL数据库（获取DATABASE变量）" class="headerlink" title="创建D1 SQL数据库（获取DATABASE变量）"></a>创建D1 SQL数据库（获取<code>DATABASE</code>变量）</h4><ol><li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li><li>导航到 <strong>存储和数据库 &gt; D1 SQL数据库</strong>，输入一个名称（例如<code>cftc</code>），点击 <strong>创建</strong>。<br><img src="https://awtc.pages.dev/3.png" alt="step 3"><br><img src="https://awtc.pages.dev/4.png" alt="step 4"></li></ol><h4 id="创建R2存储桶（获取BUCKET变量）"><a href="#创建R2存储桶（获取BUCKET变量）" class="headerlink" title="创建R2存储桶（获取BUCKET变量）&lt;可选&gt;"></a>创建R2存储桶（获取<code>BUCKET</code>变量）&lt;可选&gt;</h4><ul><li>绑卡后，创建创建一个存储桶</li></ul><h3 id="部署到Cloudflare-pages-推荐：pages-dev域名中国也能访问"><a href="#部署到Cloudflare-pages-推荐：pages-dev域名中国也能访问" class="headerlink" title="部署到Cloudflare pages (推荐：pages.dev域名中国也能访问)"></a>部署到Cloudflare pages (推荐：pages.dev域名中国也能访问)</h3><h3 id="点个star，frok本项目"><a href="#点个star，frok本项目" class="headerlink" title="点个star，frok本项目*"></a><em>点个star，frok<a href="https://github.com/iawooo/cftc/">本项目</a></em>*</h3><h4 id="创建pages项目"><a href="#创建pages项目" class="headerlink" title="创建pages项目"></a>创建pages项目</h4><ol><li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li><li>导航到 <strong>Workers和Pages &gt; Workers和Pages</strong>，点击 <strong>创建</strong>。<br><img src="https://awtc.pages.dev/5.png" alt="step 5"></li><li>点击 <strong>Pages</strong>，再点击 <strong>连接到Git</strong><br><img src="https://awtc.pages.dev/6.png" alt="step 6"></li><li>选择 <strong>cftc</strong> 存储库，点击<strong>开始设置</strong>，输入项目名称（例如<code>cftc</code>）<br><img src="https://awtc.pages.dev/7.png" alt="step 7"><br><img src="https://awtc.pages.dev/8.png" alt="step 8"></li><li>点击 <strong>保存并部署</strong>，等待20秒左右，点击 <strong>继续处理项目</strong></li><li>点击<strong>设置</strong>，根据<strong>变量表</strong>添加或绑定变量，确保变量正确。<br><img src="https://awtc.pages.dev/9.png" alt="step 9"><br>以下是项目中需要在 Cloudflare 环境中绑定的变量及其说明：<ul><li><strong><code>TG_STORAGE_CHAT_ID</code>说明：如果你部署过<a href="https://github.com/iawooo/ctt">CTT</a> 项目则<code>TG_STORAGE_CHAT_ID</code>可与<a href="https://github.com/iawooo/ctt">CTT</a> 项目中的<code>GROUP_ID_ENV</code>相同，有且只有群组id变量能相同，共用群组，不影响<a href="https://github.com/iawooo/ctt">CTT</a> 项目的双向机器人。</strong></li><li><strong><code>DOMAIN</code>说明：推荐填写cloud flare给你项目的域名如：<code>yourdomain.pages.dev</code>这样的图床直链做到“人走图还在”（cf不倒闭）</strong></li></ul></li></ol><table><thead><tr><th><strong>变量名</strong></th><th><strong>类型</strong></th><th><strong>描述</strong></th><th><strong>默认值&#x2F;示例</strong></th></tr></thead><tbody><tr><td><code>DATABASE</code></td><td>D1 绑定</td><td><strong>(必需)</strong> Cloudflare D1 数据库绑定名称，用于存储文件元数据、用户设置和分类信息。</td><td><code>cftc-db</code></td></tr><tr><td><code>DOMAIN</code></td><td>环境变量</td><td><strong>(必需)</strong> Cloudflare Workers&#x2F;pages 部署域名，用于生成文件直链和设置 Telegram Webhook。</td><td><code>yourdomain.workers/pages.dev</code></td></tr><tr><td><code>TG_BOT_TOKEN</code></td><td>环境变量</td><td><strong>(必需)</strong> Telegram 机器人 Token，用于与 Telegram API 通信以处理文件上传和交互。</td><td><code>123456:ABC-DEF1234ghIkl</code></td></tr><tr><td><code>TG_STORAGE_CHAT_ID</code></td><td>环境变量</td><td><strong>(必需，如果使用 Telegram 存储)</strong> 用于存储文件的 Telegram 群组或频道 ID。</td><td><code>-100123456789</code></td></tr><tr><td><code>USERNAME</code></td><td>环境变量</td><td><strong>(必需，如果 <code>ENABLE_AUTH</code> 为 <code>true</code>)</strong> 管理面板的登录用户名。</td><td><code>admin</code></td></tr><tr><td><code>PASSWORD</code></td><td>环境变量</td><td><strong>(必需，如果 <code>ENABLE_AUTH</code> 为 <code>true</code>)</strong> 管理面板的登录密码。</td><td><code>your_secure_password</code></td></tr><tr><td><code>MAX_SIZE_MB</code></td><td>环境变量</td><td><strong>(可选)</strong> 单个文件的最大大小限制（单位 MB），防止上传过大文件。</td><td><code>20</code></td></tr><tr><td><code>BUCKET</code></td><td>R2 绑定</td><td><strong>(可选)</strong> Cloudflare R2 存储桶绑定名称，用于 R2 存储模式（若启用）。</td><td><code>cftc-bucket</code></td></tr><tr><td><code>COOKIE</code></td><td>环境变量</td><td><strong>(可选)</strong> 网页认证 Cookie 的有效期（单位天），控制登录会话时长。</td><td><code>7</code></td></tr><tr><td><code>TG_CHAT_ID</code></td><td>环境变量</td><td><strong>(可选)</strong> 允许使用机器人的 Telegram 用户（英文逗号分隔），限制访问权限。</td><td><code>123456789,987654321</code></td></tr><tr><td><code>ENABLE_AUTH</code></td><td>环境变量</td><td><strong>(可选)</strong> 是否启用网页管理界面的用户名&#x2F;密码认证（<code>true</code> 或 <code>false</code>）。</td><td><code>true</code></td></tr></tbody></table><ol start="7"><li>点击<strong>部署</strong>，找到<strong>重试部署</strong>，点击<strong>重试部署</strong><br><img src="https://awtc.pages.dev/10.png" alt="step 10"></li></ol><h3 id="部署到Cloudflare-Workers-（替换代码填变量）"><a href="#部署到Cloudflare-Workers-（替换代码填变量）" class="headerlink" title="部署到Cloudflare Workers （替换代码填变量）"></a>部署到Cloudflare Workers （替换代码填变量）</h3><p>这里不做说明详细请移步<a href="https://github.com/iawooo/cftc">https://github.com/iawooo/cftc</a></p><h2 id="🛠️-使用说明"><a href="#🛠️-使用说明" class="headerlink" title="🛠️ 使用说明"></a>🛠️ 使用说明</h2><ul><li><strong>网页界面</strong>:<ul><li>访问 Worker&#x2F;pages 的 URL (例如 <code>https://cftc.workers/pages.dev/</code> 或你的自定义域名)。</li><li><code>https://cftc.workers/pages.dev/admin</code>: 文件管理后台，可查看、搜索、筛选、分享、删除文件和管理分类。</li></ul></li><li><strong>Telegram Bot</strong>:<ul><li>私聊你的 Bot 发送 <code>/start</code> 开始交互。</li><li>直接发送图片、视频、文档等文件给 Bot 进行上传。</li><li>使用 Bot 提供的内联键盘按钮进行各种操作（切换存储、管理分类、查看文件、修改后缀、删除文件等）。</li><li>按照 Bot 的提示回复消息以完成特定操作（如输入新分类名称、要删除的文件名、新后缀等）。</li></ul></li></ul><h2 id="🤝-贡献"><a href="#🤝-贡献" class="headerlink" title="🤝 贡献"></a>🤝 贡献</h2><h3 id="欢迎到GitHub提交-Issue-或-Pull-Request！如果您有任何改进建议或新功能需求，请随时联系我。"><a href="#欢迎到GitHub提交-Issue-或-Pull-Request！如果您有任何改进建议或新功能需求，请随时联系我。" class="headerlink" title="欢迎到GitHub提交 Issue 或 Pull Request！如果您有任何改进建议或新功能需求，请随时联系我。"></a>欢迎到<a href="https://github.com/iawooo/cftc">GitHub</a>提交 Issue 或 Pull Request！如果您有任何改进建议或新功能需求，请随时联系我。</h3><h2 id="🌟-致谢"><a href="#🌟-致谢" class="headerlink" title="🌟 致谢"></a>🌟 致谢</h2><h3 id="感谢所有测试者、贡献者和社区支持！"><a href="#感谢所有测试者、贡献者和社区支持！" class="headerlink" title="感谢所有测试者、贡献者和社区支持！"></a>感谢所有测试者、贡献者和社区支持！</h3><h3 id="cloud-flare-提供强大的基础设施支持。"><a href="#cloud-flare-提供强大的基础设施支持。" class="headerlink" title="cloud flare - 提供强大的基础设施支持。"></a><a href="https://www.cloudflare.com/">cloud flare</a> - 提供强大的基础设施支持。</h3><h3 id="telegram-便捷的-Bot-API。"><a href="#telegram-便捷的-Bot-API。" class="headerlink" title="telegram - 便捷的 Bot API。"></a><a href="https://telegram.org/">telegram</a> - 便捷的 Bot API。</h3><h3 id="感谢-xAI-claude-帮助我完成了本项目的开发和优化"><a href="#感谢-xAI-claude-帮助我完成了本项目的开发和优化" class="headerlink" title="感谢 xAI   claude 帮助我完成了本项目的开发和优化"></a>感谢 <a href="https://x.ai/">xAI</a>   <a href="https://claude.ai/">claude</a> 帮助我完成了本项目的开发和优化</h3><h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><ul><li><strong>尊重原创，转载须知</strong><br>如需转载，请务必注明出处，感谢支持！严禁将本项目用于任何违法犯罪行为。</li><li><strong>二次修改与发布</strong><br>欢迎基于本项目进行二次开发，但请在发布时注明原始出处，共同维护开源社区的良好氛围。</li></ul>]]></content>
    
    
    <summary type="html">阿伟,阿伟,阿伟博客,阿伟个人,阿伟主页,cf,cloudflare,tg,telegram,私聊,机器人,tg双向机器人,</summary>
    
    
    
    <category term="GitHub" scheme="https://irwei.com/categories/GitHub/"/>
    
    <category term="个人项目" scheme="https://irwei.com/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="telegram" scheme="https://irwei.com/categories/telegram/"/>
    
    <category term="图床搭建" scheme="https://irwei.com/categories/%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/"/>
    
    <category term="cloudflare" scheme="https://irwei.com/categories/cloudflare/"/>
    
    
    <category term="GitHub" scheme="https://irwei.com/tags/GitHub/"/>
    
    <category term="个人项目" scheme="https://irwei.com/tags/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="telegram" scheme="https://irwei.com/tags/telegram/"/>
    
    <category term="cloudflare" scheme="https://irwei.com/tags/cloudflare/"/>
    
    <category term="图床搭建" scheme="https://irwei.com/tags/%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/"/>
    
    <category term="图床" scheme="https://irwei.com/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>[CTT] 基于Cloudflare D1的Telegram双向分组对话机器人（2025.04.03更新）</title>
    <link href="https://irwei.com/p/ctt/"/>
    <id>https://irwei.com/p/ctt/</id>
    <published>2025-03-24T22:44:55.269Z</published>
    <updated>2025-03-24T22:44:55.830Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CFTeleTrans-CTT-基于-Cloudflare-的-Telegram-消息转发分组对话机器人-本项目地址：CFTeleTrans-欢迎fork-期待star"><a href="#CFTeleTrans-CTT-基于-Cloudflare-的-Telegram-消息转发分组对话机器人-本项目地址：CFTeleTrans-欢迎fork-期待star" class="headerlink" title="CFTeleTrans (CTT) - 基于 Cloudflare 的 Telegram 消息转发分组对话机器人 本项目地址：CFTeleTrans 欢迎fork 期待star"></a>CFTeleTrans (CTT) - 基于 Cloudflare 的 Telegram 消息转发分组对话机器人 本项目地址：<a href="https://github.com/iawooo/ctt">CFTeleTrans</a> 欢迎fork 期待star</h1><h1 id="部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）"><a href="#部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）" class="headerlink" title="部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）"></a>部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）</h1><h2 id="04-03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。"><a href="#04-03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。" class="headerlink" title="04.03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。"></a>04.03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。</h2><h2 id="项目截图"><a href="#项目截图" class="headerlink" title="项目截图"></a>项目截图</h2><p>以下是 CFTeleTrans 项目的截图：<br><img src="https://tc-212.pages.dev/1743001600418.png" alt="CFTeleTrans 截图"><br>一款强大、灵活、低成本的 Telegram 机器人解决方案，助你轻松管理消息互动！以下是它的核心亮点：</p><ul><li><strong>完全自部署，掌控在你手中</strong><br>部署在自己的 Cloudflare 账户下，避免被第三方操控或推送流氓广告，安全可靠，隐私无忧。</li><li><strong>分组对话，清晰高效</strong><br>每个给你发消息的人自动分配独立分组，查找记录一目了然，回复无需“@”提及，直接在对应分组操作，省时省力。</li><li><strong>好友式聊天体验，随时畅聊</strong><br>用户发消息就像添加了你的好友，随时随地想聊就聊。即使多人同时发消息，也井然有序，绝不混乱。</li><li><strong>纯 Cloudflare 驱动，零服务器成本</strong><br>完全基于 Cloudflare 平台，利用其免费额度（每天10万次请求）实现高性能运行，无需额外服务器，轻松上手。</li><li><strong>D1 数据库存储，容量无忧</strong><br>使用 Cloudflare D1 存储用户状态和数据，免费额度高达每天10万次读写，远超传统 KV 空间限制，稳定又实用。</li><li><strong>智能防护与管理功能</strong><br>配备高效的用户验证机制、消息频率限制（防止恶意刷消息）以及管理员功能，确保机器人安全稳定运行。</li><li><strong>更多功能，等你探索</strong><br>想了解更多 欢迎访问 GitHub 项目地址：<a href="https://github.com/iawooo/ctt">https://github.com/iawooo/ctt</a>，完整功能一览无余！</li></ul><hr><h1 id="部署教程"><a href="#部署教程" class="headerlink" title="部署教程"></a>部署教程</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li><p><strong>创建Telegram Bot</strong>：</p><ul><li>在Telegram中找到 <code>@BotFather</code>，发送 <code>/newbot</code>创建新机器人。</li><li>按照提示设置机器人名称和用户名，获取Bot Token（例如 <code>123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11</code>）。</li><li>发送 <code>/setinline</code>切换内联模式。<br><img src="https://tc-212.pages.dev/1742897391924.png" alt="image"></li></ul></li><li><p><strong>创建后台群组</strong>：</p><ul><li>创建一个Telegram群组（按需设置是否公开），</li><li>群组的“话题功能”打开。</li><li>添加机器人为管理员，建议权限全给（消息管理，话题管理）<br><img src="https://tc-212.pages.dev/1742897456559.png" alt="image"></li><li>获取群组的Chat ID（例如 <code>-100123456789</code>），可以通过 <code>@getidsbot</code>获取（拉它进群）。<br><img src="https://tc-212.pages.dev/1742897487893.png" alt="image"></li></ul></li></ol><h2 id="部署到Cloudflare-Workers"><a href="#部署到Cloudflare-Workers" class="headerlink" title="部署到Cloudflare Workers"></a>部署到Cloudflare Workers</h2><h3 id="步骤-1：创建D1-SQL数据库"><a href="#步骤-1：创建D1-SQL数据库" class="headerlink" title="步骤 1：创建D1 SQL数据库"></a>步骤 1：创建D1 SQL数据库</h3><ol><li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li><li>导航到 <strong>存储和数据库 &gt; D1 SQL数据库</strong>，输入一个名称（例如 <code>cfteletrans-db</code>），点击 <strong>创建</strong>。<br><img src="https://tc-212.pages.dev/1742897504981.png" alt="image"><br><img src="https://tc-212.pages.dev/1742897530332.png" alt="image"></li></ol><h3 id="步骤-2：创建Workers项目"><a href="#步骤-2：创建Workers项目" class="headerlink" title="步骤 2：创建Workers项目"></a>步骤 2：创建Workers项目</h3><ol><li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li><li>导航到 <strong>Workers和Pages &gt; Workers和Pages</strong>，点击 <strong>创建</strong>。<br><img src="https://tc-212.pages.dev/1742897572684.png" alt="image"></li><li>点击 <strong>Hello world</strong>，输入一个名称（例如 <code>cfteletrans</code>），再点击 <strong>部署</strong></li><li>点击 <strong>继续处理项目</strong>，（先填写变量再替换项目代码）</li></ol><h3 id="步骤-3：配置环境变量"><a href="#步骤-3：配置环境变量" class="headerlink" title="步骤 3：配置环境变量"></a>步骤 3：配置环境变量</h3><ol><li>在创建的Workers项目 <strong>设置 &gt; 变量和机密</strong> 中，添加以下变量：</li></ol><ul><li><code>BOT_TOKEN_ENV</code>：您的Telegram Bot Token（例如 <code>123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11</code>）。</li><li><code>GROUP_ID_ENV</code>：后台群组的Chat ID（例如 <code>-100123456789</code>）。</li><li><code>MAX_MESSAGES_PER_MINUTE_ENV</code>：消息频率限制（例如 <code>40</code>）。</li></ul><h3 id="步骤-4：绑定D1-SQL数据库"><a href="#步骤-4：绑定D1-SQL数据库" class="headerlink" title="步骤 4：绑定D1 SQL数据库"></a>步骤 4：绑定D1 SQL数据库</h3><ol><li>在创建的Workers项目 <strong>设置 &gt; 绑定</strong> 中，绑定数据库：</li></ol><ul><li>添加-选择D1数据库</li><li>变量名称 <code>D1</code></li><li>D1 数据库 选择刚建的数据库（例如 <code>cfteletrans-db</code>），</li><li>点击 <strong>编辑代码</strong>，把原来的代码用<a href="https://github.com/iawooo/ctt">本项目</a>中的_worker.js代码替换后部署</li></ul><table><thead><tr><th><strong>变量名</strong></th><th><strong>类型</strong></th><th><strong>描述</strong></th><th><strong>默认值&#x2F;示例</strong></th></tr></thead><tbody><tr><td><code>BOT_TOKEN_ENV</code></td><td>环境变量</td><td>Telegram Bot 的 Token，用于与 Telegram API 通信。</td><td><code>your-telegram-bot-token</code></td></tr><tr><td><code>GROUP_ID_ENV</code></td><td>环境变量</td><td>Telegram 群组的 ID，用于消息转发和客服回复。</td><td><code>-123456789</code></td></tr><tr><td><code>MAX_MESSAGES_PER_MINUTE_ENV</code></td><td>环境变量</td><td>每分钟允许的最大消息数，用于限制用户发送频率。</td><td><code>40</code></td></tr><tr><td><code>D1</code></td><td>D1 绑定</td><td>Cloudflare D1 数据库绑定，用于存储用户状态、消息频率和群组映射。</td><td><code>cfteletrans-db</code></td></tr></tbody></table><p><img src="https://tc-212.pages.dev/1742897645328.png" alt="image"></p><h3 id="步骤-5：测试"><a href="#步骤-5：测试" class="headerlink" title="步骤 5：测试"></a>步骤 5：测试</h3><ol><li>在Telegram中找到您的机器人，发送 <code>/start</code>。</li><li>确认收到“你好，欢迎使用私聊机器人！”并触发验证码。</li><li>完成验证，确认收到合并消息，例如：</li><li>发送消息，确认消息转发到后台群组的子论坛。</li></ol><h2 id="部署到Cloudflare-pages（可选）"><a href="#部署到Cloudflare-pages（可选）" class="headerlink" title="部署到Cloudflare pages（可选）"></a>部署到Cloudflare pages（可选）</h2><h3 id="首先fork本项目-！！！"><a href="#首先fork本项目-！！！" class="headerlink" title="**首先fork本项目**！！！"></a>**首先fork<a href="https://github.com/iawooo/ctt">本项目</a>**！！！</h3><h3 id="步骤-1：创建pages项目"><a href="#步骤-1：创建pages项目" class="headerlink" title="步骤 1：创建pages项目"></a>步骤 1：创建pages项目</h3><ol><li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li><li>导航到 <strong>Workers和Pages &gt; Workers和Pages</strong>，选择pages，点击 <strong>创建</strong>。</li><li>连接GitHub部署（或者下载本项目zip部署）</li></ol><h3 id="步骤-2：填写变量后重试部署"><a href="#步骤-2：填写变量后重试部署" class="headerlink" title="步骤 2：填写变量后重试部署"></a>步骤 2：填写变量后重试部署</h3><p><img src="https://tc-212.pages.dev/1742897645328.png" alt="image"></p><h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ul><li>本项目首次公测，可能有bug，</li><li>bug和改进建议联系我</li></ul><h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><ul><li>特别感谢 <a href="https://x.ai/">xAI</a> 提供的支持，帮助我完成了本项目的开发和优化</li><li>特别感谢 <a href="https://www.cloudflare.com/">cloud flare</a> 大善人</li></ul><h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><ul><li><strong>尊重原创，转载须知</strong><br>如需转载，请务必注明出处，感谢支持！严禁将本项目用于任何违法犯罪行为。</li><li><strong>二次修改与发布</strong><br>欢迎基于本项目进行二次开发，但请在发布时注明原始出处，共同维护开源社区的良好氛围。</li></ul>]]></content>
    
    
    <summary type="html">阿伟,阿伟,阿伟博客,阿伟个人,阿伟主页,cf,cloudflare,tg,telegram,私聊,机器人,tg双向机器人,</summary>
    
    
    
    <category term="GitHub" scheme="https://irwei.com/categories/GitHub/"/>
    
    <category term="个人项目" scheme="https://irwei.com/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="telegram" scheme="https://irwei.com/categories/telegram/"/>
    
    <category term="cloudflare" scheme="https://irwei.com/categories/cloudflare/"/>
    
    
    <category term="GitHub" scheme="https://irwei.com/tags/GitHub/"/>
    
    <category term="个人项目" scheme="https://irwei.com/tags/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="telegram" scheme="https://irwei.com/tags/telegram/"/>
    
    <category term="cloudflare" scheme="https://irwei.com/tags/cloudflare/"/>
    
  </entry>
  
  <entry>
    <title>测试</title>
    <link href="https://irwei.com/p/test/"/>
    <id>https://irwei.com/p/test/</id>
    <published>2025-01-01T07:29:06.502Z</published>
    <updated>2025-01-01T07:29:06.987Z</updated>
    
    <content type="html"><![CDATA[<h2 id="第一步：开始工作前，先“听”一次"><a href="#第一步：开始工作前，先“听”一次" class="headerlink" title="第一步：开始工作前，先“听”一次"></a>第一步：开始工作前，先“听”一次</h2><ul><li>在您准备修改任何东西之前，先运行 <code>pull</code> 命令</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin main</span><br></pre></td></tr></table></figure><ul><li><strong>本地预览</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure><ul><li>​<strong>提交所有修改</strong>​：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;修改的大致内容&quot;</span><br></pre></td></tr></table></figure><ul><li><strong>修改后后推送</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin main</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">这是阿伟博客的测试博文页面</summary>
    
    
    
    
  </entry>
  
</feed>
