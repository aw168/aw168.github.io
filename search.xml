<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>[CTT] 基于Cloudflare D1的Telegram双向分组对话机器人（2025.04.03更新）</title>
    <url>/p/ctt/</url>
    <content><![CDATA[<h1 id="CFTeleTrans-CTT-基于-Cloudflare-的-Telegram-消息转发分组对话机器人-本项目地址：CFTeleTrans-欢迎fork-期待star"><a href="#CFTeleTrans-CTT-基于-Cloudflare-的-Telegram-消息转发分组对话机器人-本项目地址：CFTeleTrans-欢迎fork-期待star" class="headerlink" title="CFTeleTrans (CTT) - 基于 Cloudflare 的 Telegram 消息转发分组对话机器人 本项目地址：CFTeleTrans 欢迎fork 期待star"></a>CFTeleTrans (CTT) - 基于 Cloudflare 的 Telegram 消息转发分组对话机器人 本项目地址：<a href="https://github.com/iawooo/ctt">CFTeleTrans</a> 欢迎fork 期待star</h1><h1 id="部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）"><a href="#部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）" class="headerlink" title="部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）"></a>部署双向机器人的好处：隐私保护，避免封号，任何人能联系你（不受双向限制）</h1><h2 id="04-03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。"><a href="#04-03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。" class="headerlink" title="04.03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。"></a>04.03更新：修复bug，结合反馈添加功能，添加面板，优化响应速度。</h2><h2 id="项目截图"><a href="#项目截图" class="headerlink" title="项目截图"></a>项目截图</h2><p>以下是 CFTeleTrans 项目的截图：<br><img src="https://tc-212.pages.dev/1743001600418.png" alt="CFTeleTrans 截图"><br>一款强大、灵活、低成本的 Telegram 机器人解决方案，助你轻松管理消息互动！以下是它的核心亮点：</p>
<ul>
<li><strong>完全自部署，掌控在你手中</strong><br>部署在自己的 Cloudflare 账户下，避免被第三方操控或推送流氓广告，安全可靠，隐私无忧。</li>
<li><strong>分组对话，清晰高效</strong><br>每个给你发消息的人自动分配独立分组，查找记录一目了然，回复无需“@”提及，直接在对应分组操作，省时省力。</li>
<li><strong>好友式聊天体验，随时畅聊</strong><br>用户发消息就像添加了你的好友，随时随地想聊就聊。即使多人同时发消息，也井然有序，绝不混乱。</li>
<li><strong>纯 Cloudflare 驱动，零服务器成本</strong><br>完全基于 Cloudflare 平台，利用其免费额度（每天10万次请求）实现高性能运行，无需额外服务器，轻松上手。</li>
<li><strong>D1 数据库存储，容量无忧</strong><br>使用 Cloudflare D1 存储用户状态和数据，免费额度高达每天10万次读写，远超传统 KV 空间限制，稳定又实用。</li>
<li><strong>智能防护与管理功能</strong><br>配备高效的用户验证机制、消息频率限制（防止恶意刷消息）以及管理员功能，确保机器人安全稳定运行。</li>
<li><strong>更多功能，等你探索</strong><br>想了解更多 欢迎访问 GitHub 项目地址：<a href="https://github.com/iawooo/ctt">https://github.com/iawooo/ctt</a>，完整功能一览无余！</li>
</ul>
<hr>
<h1 id="部署教程"><a href="#部署教程" class="headerlink" title="部署教程"></a>部署教程</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol>
<li><p><strong>创建Telegram Bot</strong>：</p>
<ul>
<li>在Telegram中找到 <code>@BotFather</code>，发送 <code>/newbot</code>创建新机器人。</li>
<li>按照提示设置机器人名称和用户名，获取Bot Token（例如 <code>123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11</code>）。</li>
<li>发送 <code>/setinline</code>切换内联模式。<br><img src="https://tc-212.pages.dev/1742897391924.png" alt="image"></li>
</ul>
</li>
<li><p><strong>创建后台群组</strong>：</p>
<ul>
<li>创建一个Telegram群组（按需设置是否公开），</li>
<li>群组的“话题功能”打开。</li>
<li>添加机器人为管理员，建议权限全给（消息管理，话题管理）<br><img src="https://tc-212.pages.dev/1742897456559.png" alt="image"></li>
<li>获取群组的Chat ID（例如 <code>-100123456789</code>），可以通过 <code>@getidsbot</code>获取（拉它进群）。<br><img src="https://tc-212.pages.dev/1742897487893.png" alt="image"></li>
</ul>
</li>
</ol>
<h2 id="部署到Cloudflare-Workers"><a href="#部署到Cloudflare-Workers" class="headerlink" title="部署到Cloudflare Workers"></a>部署到Cloudflare Workers</h2><h3 id="步骤-1：创建D1-SQL数据库"><a href="#步骤-1：创建D1-SQL数据库" class="headerlink" title="步骤 1：创建D1 SQL数据库"></a>步骤 1：创建D1 SQL数据库</h3><ol>
<li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li>
<li>导航到 <strong>存储和数据库 &gt; D1 SQL数据库</strong>，输入一个名称（例如 <code>cfteletrans-db</code>），点击 <strong>创建</strong>。<br><img src="https://tc-212.pages.dev/1742897504981.png" alt="image"><br><img src="https://tc-212.pages.dev/1742897530332.png" alt="image"></li>
</ol>
<h3 id="步骤-2：创建Workers项目"><a href="#步骤-2：创建Workers项目" class="headerlink" title="步骤 2：创建Workers项目"></a>步骤 2：创建Workers项目</h3><ol>
<li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li>
<li>导航到 <strong>Workers和Pages &gt; Workers和Pages</strong>，点击 <strong>创建</strong>。<br><img src="https://tc-212.pages.dev/1742897572684.png" alt="image"></li>
<li>点击 <strong>Hello world</strong>，输入一个名称（例如 <code>cfteletrans</code>），再点击 <strong>部署</strong></li>
<li>点击 <strong>继续处理项目</strong>，（先填写变量再替换项目代码）</li>
</ol>
<h3 id="步骤-3：配置环境变量"><a href="#步骤-3：配置环境变量" class="headerlink" title="步骤 3：配置环境变量"></a>步骤 3：配置环境变量</h3><ol>
<li>在创建的Workers项目 <strong>设置 &gt; 变量和机密</strong> 中，添加以下变量：</li>
</ol>
<ul>
<li><code>BOT_TOKEN_ENV</code>：您的Telegram Bot Token（例如 <code>123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11</code>）。</li>
<li><code>GROUP_ID_ENV</code>：后台群组的Chat ID（例如 <code>-100123456789</code>）。</li>
<li><code>MAX_MESSAGES_PER_MINUTE_ENV</code>：消息频率限制（例如 <code>40</code>）。</li>
</ul>
<h3 id="步骤-4：绑定D1-SQL数据库"><a href="#步骤-4：绑定D1-SQL数据库" class="headerlink" title="步骤 4：绑定D1 SQL数据库"></a>步骤 4：绑定D1 SQL数据库</h3><ol>
<li>在创建的Workers项目 <strong>设置 &gt; 绑定</strong> 中，绑定数据库：</li>
</ol>
<ul>
<li>添加-选择D1数据库</li>
<li>变量名称 <code>D1</code></li>
<li>D1 数据库 选择刚建的数据库（例如 <code>cfteletrans-db</code>），</li>
<li>点击 <strong>编辑代码</strong>，把原来的代码用<a href="https://github.com/iawooo/ctt">本项目</a>中的_worker.js代码替换后部署</li>
</ul>
<table>
<thead>
<tr>
<th><strong>变量名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值&#x2F;示例</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>BOT_TOKEN_ENV</code></td>
<td>环境变量</td>
<td>Telegram Bot 的 Token，用于与 Telegram API 通信。</td>
<td><code>your-telegram-bot-token</code></td>
</tr>
<tr>
<td><code>GROUP_ID_ENV</code></td>
<td>环境变量</td>
<td>Telegram 群组的 ID，用于消息转发和客服回复。</td>
<td><code>-123456789</code></td>
</tr>
<tr>
<td><code>MAX_MESSAGES_PER_MINUTE_ENV</code></td>
<td>环境变量</td>
<td>每分钟允许的最大消息数，用于限制用户发送频率。</td>
<td><code>40</code></td>
</tr>
<tr>
<td><code>D1</code></td>
<td>D1 绑定</td>
<td>Cloudflare D1 数据库绑定，用于存储用户状态、消息频率和群组映射。</td>
<td><code>cfteletrans-db</code></td>
</tr>
</tbody></table>
<p><img src="https://tc-212.pages.dev/1742897645328.png" alt="image"></p>
<h3 id="步骤-5：测试"><a href="#步骤-5：测试" class="headerlink" title="步骤 5：测试"></a>步骤 5：测试</h3><ol>
<li>在Telegram中找到您的机器人，发送 <code>/start</code>。</li>
<li>确认收到“你好，欢迎使用私聊机器人！”并触发验证码。</li>
<li>完成验证，确认收到合并消息，例如：</li>
<li>发送消息，确认消息转发到后台群组的子论坛。</li>
</ol>
<h2 id="部署到Cloudflare-pages（可选）"><a href="#部署到Cloudflare-pages（可选）" class="headerlink" title="部署到Cloudflare pages（可选）"></a>部署到Cloudflare pages（可选）</h2><h3 id="首先fork本项目-！！！"><a href="#首先fork本项目-！！！" class="headerlink" title="**首先fork本项目**！！！"></a>**首先fork<a href="https://github.com/iawooo/ctt">本项目</a>**！！！</h3><h3 id="步骤-1：创建pages项目"><a href="#步骤-1：创建pages项目" class="headerlink" title="步骤 1：创建pages项目"></a>步骤 1：创建pages项目</h3><ol>
<li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li>
<li>导航到 <strong>Workers和Pages &gt; Workers和Pages</strong>，选择pages，点击 <strong>创建</strong>。</li>
<li>连接GitHub部署（或者下载本项目zip部署）</li>
</ol>
<h3 id="步骤-2：填写变量后重试部署"><a href="#步骤-2：填写变量后重试部署" class="headerlink" title="步骤 2：填写变量后重试部署"></a>步骤 2：填写变量后重试部署</h3><p><img src="https://tc-212.pages.dev/1742897645328.png" alt="image"></p>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ul>
<li>本项目首次公测，可能有bug，</li>
<li>bug和改进建议联系我</li>
</ul>
<h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><ul>
<li>特别感谢 <a href="https://x.ai/">xAI</a> 提供的支持，帮助我完成了本项目的开发和优化</li>
<li>特别感谢 <a href="https://www.cloudflare.com/">cloud flare</a> 大善人</li>
</ul>
<h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><ul>
<li><strong>尊重原创，转载须知</strong><br>如需转载，请务必注明出处，感谢支持！严禁将本项目用于任何违法犯罪行为。</li>
<li><strong>二次修改与发布</strong><br>欢迎基于本项目进行二次开发，但请在发布时注明原始出处，共同维护开源社区的良好氛围。</li>
</ul>
]]></content>
      <categories>
        <category>GitHub</category>
        <category>个人项目</category>
        <category>telegram</category>
        <category>cloudflare</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>个人项目</tag>
        <tag>telegram</tag>
        <tag>cloudflare</tag>
      </tags>
  </entry>
  <entry>
    <title>[cftc]-基于cloudflare图床,支持tg机器人面板和网页管理,上传,自定义后缀等</title>
    <url>/p/cftc/</url>
    <content><![CDATA[<h1 id="cftc-支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）"><a href="#cftc-支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）" class="headerlink" title="cftc 支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）"></a><a href="https://github.com/iawooo/cftc/">cftc</a> 支持telegram机器人管理和网页管理文件（包括上传，删除，分类，修改后缀等功能）</h1><h2 id="cftc-支持R2-telegram存储，多多star后期可能会跟进B2-S3等存储"><a href="#cftc-支持R2-telegram存储，多多star后期可能会跟进B2-S3等存储" class="headerlink" title="cftc 支持R2 telegram存储，多多star后期可能会跟进B2 S3等存储"></a><a href="https://github.com/iawooo/cftc/">cftc</a> 支持R2 telegram存储，多多star后期可能会跟进B2 S3等存储</h2><h1 id="项目地址：https-github-com-iawooo-cftc-感谢你们的star助力孩子圆梦论坛鸡"><a href="#项目地址：https-github-com-iawooo-cftc-感谢你们的star助力孩子圆梦论坛鸡" class="headerlink" title="项目地址：https://github.com/iawooo/cftc/ 感谢你们的star助力孩子圆梦论坛鸡"></a>项目地址：<a href="https://github.com/iawooo/cftc/">https://github.com/iawooo/cftc/</a> 感谢你们的star助力孩子圆梦论坛鸡</h1><h2 id="📸-截图"><a href="#📸-截图" class="headerlink" title="📸 截图"></a>📸 截图</h2><table>
<thead>
<tr>
<th>Telegram 交互</th>
<th>网页管理</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://awtc.pages.dev/bot.png" alt="Telegram 交互"></td>
<td><img src="https://awtc.pages.dev/web.png" alt="网页管理"></td>
</tr>
</tbody></table>
<h2 id="✨-核心特性"><a href="#✨-核心特性" class="headerlink" title="✨ 核心特性"></a>✨ 核心特性</h2><ul>
<li><p><strong>与 <a href="https://github.com/iawooo/ctt">CTT</a> 项目协同，实现一举两得</strong></p>
<ul>
<li><strong>提升整体效率</strong>：与  <a href="https://github.com/iawooo/ctt">CTT</a>  项目无缝协作，共享 Telegram 生态的优势。群组中用户既能享受 CTT 的消息转发功能，又能把群组当存储，最大化 Telegram 群组的价值。（不能共用一个机器人）</li>
</ul>
</li>
<li><p><strong>Telegram 机器人驱动的智能管理</strong></p>
<ul>
<li><strong>随时随地操作</strong>：内置 Telegram 机器人提供直观的菜单面板，支持上传、修改后缀、管理和分类文件等功能。用户通过简单按钮即可完成复杂操作，无需专业技能，管理文件如同聊天般轻松。</li>
</ul>
</li>
<li><p><strong>永久直链的革命性体验</strong></p>
<ul>
<li><strong>提升用户体验</strong>：通过先删除旧文件、上传新文件并修改直链后缀为旧后缀。用户可以在不更改链接的情况下频繁更新文件内容（如替换照片或文档），特别适合博客、电商或需要稳定链接的场景。</li>
</ul>
</li>
<li><p><strong>Cloudflare workers&#x2F;pages部署</strong></p>
<ul>
<li><strong>快速上手</strong>：代码简单，部署代码，填写变量便能使用。</li>
<li><strong>免费永久稳定的图床服务</strong>  Cloudflare 的业界领先稳定性，一旦部署，文件托管长期可靠，无需担心服务中断或数据丢失，一劳永逸，节省维护精力。</li>
</ul>
</li>
<li><p><strong>Cloudflare D1 数据库</strong></p>
<ul>
<li><strong>高效存储</strong>：使用Cloudflare D1这个根本用不完的数据库存储用户设置和文件元数据，避免用kv这个少得可怜还造成动不动扣费的现象。</li>
</ul>
</li>
<li><p><strong>利用 Telegram 群组的无限免费存储</strong></p>
<ul>
<li><strong>零成本存储</strong>：利用 Telegram 群组作为免费存储后端，空间近乎无限，成本为零。用户无需额外付费即可托管图片、视频和文档，轻松实现高性价比的图床。</li>
</ul>
</li>
<li><p><strong>灵活的双存储模式</strong></p>
<ul>
<li><strong>灵活适配，覆盖广泛</strong>：支持 Telegram 存储和 Cloudflare R2 存储两种模式，用户可根据需求自由切换。Telegram 模式适合轻量文件，R2 模式支持大文件和高性能，满足从个人分享到企业托管的多种场景。</li>
</ul>
</li>
<li><p><strong>动态直链后缀修改</strong></p>
<ul>
<li><strong>直链可复用</strong>：cftc 允许用户随时修改文件直链的后缀，无需更改文件内容即可生成新链接。改变了传统图床“修改内容必须更换直链”的限制，实现动态化管理。</li>
</ul>
</li>
</ul>
<h2 id="部署教程"><a href="#部署教程" class="headerlink" title="部署教程"></a>部署教程</h2><p>大佬部署可以直接看变量表</p>
<h4 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h4><p><strong>创建Telegram Bot</strong>（获取<code>TG_BOT_TOKEN</code>变量）：</p>
<ul>
<li>在Telegram中找到<code>@BotFather</code>，发送<code>/newbot</code>创建新机器人。</li>
<li>按照提示设置机器人名称和用户名，获取Bot Token（例如<code>123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11</code>）。<br><strong>创建后台群组</strong>（获取<code>TG_STORAGE_CHAT_ID</code>变量）：<br><strong>可与<a href="https://github.com/iawooo/ctt">CTT</a> 项目共用群组如果部署过<a href="https://github.com/iawooo/ctt">CTT</a> 项目，此步骤省略</strong></li>
<li>创建一个Telegram群组（按需设置是否公开），</li>
<li>添加机器人为管理员。</li>
<li>获取群组的Chat ID（例如<code>-100123456789</code>），可以通过<code>@getidsbot</code>获取（拉它进群）。<br><img src="https://awtc.pages.dev/1.png" alt="step 1"><br><img src="https://awtc.pages.dev/2.png" alt="step 2"></li>
</ul>
<h4 id="创建D1-SQL数据库（获取DATABASE变量）"><a href="#创建D1-SQL数据库（获取DATABASE变量）" class="headerlink" title="创建D1 SQL数据库（获取DATABASE变量）"></a>创建D1 SQL数据库（获取<code>DATABASE</code>变量）</h4><ol>
<li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li>
<li>导航到 <strong>存储和数据库 &gt; D1 SQL数据库</strong>，输入一个名称（例如<code>cftc</code>），点击 <strong>创建</strong>。<br><img src="https://awtc.pages.dev/3.png" alt="step 3"><br><img src="https://awtc.pages.dev/4.png" alt="step 4"></li>
</ol>
<h4 id="创建R2存储桶（获取BUCKET变量）"><a href="#创建R2存储桶（获取BUCKET变量）" class="headerlink" title="创建R2存储桶（获取BUCKET变量）&lt;可选&gt;"></a>创建R2存储桶（获取<code>BUCKET</code>变量）&lt;可选&gt;</h4><ul>
<li>绑卡后，创建创建一个存储桶</li>
</ul>
<h3 id="部署到Cloudflare-pages-推荐：pages-dev域名中国也能访问"><a href="#部署到Cloudflare-pages-推荐：pages-dev域名中国也能访问" class="headerlink" title="部署到Cloudflare pages (推荐：pages.dev域名中国也能访问)"></a>部署到Cloudflare pages (推荐：pages.dev域名中国也能访问)</h3><h3 id="点个star，frok本项目"><a href="#点个star，frok本项目" class="headerlink" title="点个star，frok本项目*"></a><em>点个star，frok<a href="https://github.com/iawooo/cftc/">本项目</a></em>*</h3><h4 id="创建pages项目"><a href="#创建pages项目" class="headerlink" title="创建pages项目"></a>创建pages项目</h4><ol>
<li>登录<a href="https://dash.cloudflare.com/">Cloudflare仪表板</a>。</li>
<li>导航到 <strong>Workers和Pages &gt; Workers和Pages</strong>，点击 <strong>创建</strong>。<br><img src="https://awtc.pages.dev/5.png" alt="step 5"></li>
<li>点击 <strong>Pages</strong>，再点击 <strong>连接到Git</strong><br><img src="https://awtc.pages.dev/6.png" alt="step 6"></li>
<li>选择 <strong>cftc</strong> 存储库，点击<strong>开始设置</strong>，输入项目名称（例如<code>cftc</code>）<br><img src="https://awtc.pages.dev/7.png" alt="step 7"><br><img src="https://awtc.pages.dev/8.png" alt="step 8"></li>
<li>点击 <strong>保存并部署</strong>，等待20秒左右，点击 <strong>继续处理项目</strong></li>
<li>点击<strong>设置</strong>，根据<strong>变量表</strong>添加或绑定变量，确保变量正确。<br><img src="https://awtc.pages.dev/9.png" alt="step 9"><br>以下是项目中需要在 Cloudflare 环境中绑定的变量及其说明：<ul>
<li><strong><code>TG_STORAGE_CHAT_ID</code>说明：如果你部署过<a href="https://github.com/iawooo/ctt">CTT</a> 项目则<code>TG_STORAGE_CHAT_ID</code>可与<a href="https://github.com/iawooo/ctt">CTT</a> 项目中的<code>GROUP_ID_ENV</code>相同，有且只有群组id变量能相同，共用群组，不影响<a href="https://github.com/iawooo/ctt">CTT</a> 项目的双向机器人。</strong></li>
<li><strong><code>DOMAIN</code>说明：推荐填写cloud flare给你项目的域名如：<code>yourdomain.pages.dev</code>这样的图床直链做到“人走图还在”（cf不倒闭）</strong></li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th><strong>变量名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>默认值&#x2F;示例</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>DATABASE</code></td>
<td>D1 绑定</td>
<td><strong>(必需)</strong> Cloudflare D1 数据库绑定名称，用于存储文件元数据、用户设置和分类信息。</td>
<td><code>cftc-db</code></td>
</tr>
<tr>
<td><code>DOMAIN</code></td>
<td>环境变量</td>
<td><strong>(必需)</strong> Cloudflare Workers&#x2F;pages 部署域名，用于生成文件直链和设置 Telegram Webhook。</td>
<td><code>yourdomain.workers/pages.dev</code></td>
</tr>
<tr>
<td><code>TG_BOT_TOKEN</code></td>
<td>环境变量</td>
<td><strong>(必需)</strong> Telegram 机器人 Token，用于与 Telegram API 通信以处理文件上传和交互。</td>
<td><code>123456:ABC-DEF1234ghIkl</code></td>
</tr>
<tr>
<td><code>TG_STORAGE_CHAT_ID</code></td>
<td>环境变量</td>
<td><strong>(必需，如果使用 Telegram 存储)</strong> 用于存储文件的 Telegram 群组或频道 ID。</td>
<td><code>-100123456789</code></td>
</tr>
<tr>
<td><code>USERNAME</code></td>
<td>环境变量</td>
<td><strong>(必需，如果 <code>ENABLE_AUTH</code> 为 <code>true</code>)</strong> 管理面板的登录用户名。</td>
<td><code>admin</code></td>
</tr>
<tr>
<td><code>PASSWORD</code></td>
<td>环境变量</td>
<td><strong>(必需，如果 <code>ENABLE_AUTH</code> 为 <code>true</code>)</strong> 管理面板的登录密码。</td>
<td><code>your_secure_password</code></td>
</tr>
<tr>
<td><code>MAX_SIZE_MB</code></td>
<td>环境变量</td>
<td><strong>(可选)</strong> 单个文件的最大大小限制（单位 MB），防止上传过大文件。</td>
<td><code>20</code></td>
</tr>
<tr>
<td><code>BUCKET</code></td>
<td>R2 绑定</td>
<td><strong>(可选)</strong> Cloudflare R2 存储桶绑定名称，用于 R2 存储模式（若启用）。</td>
<td><code>cftc-bucket</code></td>
</tr>
<tr>
<td><code>COOKIE</code></td>
<td>环境变量</td>
<td><strong>(可选)</strong> 网页认证 Cookie 的有效期（单位天），控制登录会话时长。</td>
<td><code>7</code></td>
</tr>
<tr>
<td><code>TG_CHAT_ID</code></td>
<td>环境变量</td>
<td><strong>(可选)</strong> 允许使用机器人的 Telegram 用户（英文逗号分隔），限制访问权限。</td>
<td><code>123456789,987654321</code></td>
</tr>
<tr>
<td><code>ENABLE_AUTH</code></td>
<td>环境变量</td>
<td><strong>(可选)</strong> 是否启用网页管理界面的用户名&#x2F;密码认证（<code>true</code> 或 <code>false</code>）。</td>
<td><code>true</code></td>
</tr>
</tbody></table>
<ol start="7">
<li>点击<strong>部署</strong>，找到<strong>重试部署</strong>，点击<strong>重试部署</strong><br><img src="https://awtc.pages.dev/10.png" alt="step 10"></li>
</ol>
<h3 id="部署到Cloudflare-Workers-（替换代码填变量）"><a href="#部署到Cloudflare-Workers-（替换代码填变量）" class="headerlink" title="部署到Cloudflare Workers （替换代码填变量）"></a>部署到Cloudflare Workers （替换代码填变量）</h3><p>这里不做说明详细请移步<a href="https://github.com/iawooo/cftc">https://github.com/iawooo/cftc</a></p>
<h2 id="🛠️-使用说明"><a href="#🛠️-使用说明" class="headerlink" title="🛠️ 使用说明"></a>🛠️ 使用说明</h2><ul>
<li><strong>网页界面</strong>:<ul>
<li>访问 Worker&#x2F;pages 的 URL (例如 <code>https://cftc.workers/pages.dev/</code> 或你的自定义域名)。</li>
<li><code>https://cftc.workers/pages.dev/admin</code>: 文件管理后台，可查看、搜索、筛选、分享、删除文件和管理分类。</li>
</ul>
</li>
<li><strong>Telegram Bot</strong>:<ul>
<li>私聊你的 Bot 发送 <code>/start</code> 开始交互。</li>
<li>直接发送图片、视频、文档等文件给 Bot 进行上传。</li>
<li>使用 Bot 提供的内联键盘按钮进行各种操作（切换存储、管理分类、查看文件、修改后缀、删除文件等）。</li>
<li>按照 Bot 的提示回复消息以完成特定操作（如输入新分类名称、要删除的文件名、新后缀等）。</li>
</ul>
</li>
</ul>
<h2 id="🤝-贡献"><a href="#🤝-贡献" class="headerlink" title="🤝 贡献"></a>🤝 贡献</h2><h3 id="欢迎到GitHub提交-Issue-或-Pull-Request！如果您有任何改进建议或新功能需求，请随时联系我。"><a href="#欢迎到GitHub提交-Issue-或-Pull-Request！如果您有任何改进建议或新功能需求，请随时联系我。" class="headerlink" title="欢迎到GitHub提交 Issue 或 Pull Request！如果您有任何改进建议或新功能需求，请随时联系我。"></a>欢迎到<a href="https://github.com/iawooo/cftc">GitHub</a>提交 Issue 或 Pull Request！如果您有任何改进建议或新功能需求，请随时联系我。</h3><h2 id="🌟-致谢"><a href="#🌟-致谢" class="headerlink" title="🌟 致谢"></a>🌟 致谢</h2><h3 id="感谢所有测试者、贡献者和社区支持！"><a href="#感谢所有测试者、贡献者和社区支持！" class="headerlink" title="感谢所有测试者、贡献者和社区支持！"></a>感谢所有测试者、贡献者和社区支持！</h3><h3 id="cloud-flare-提供强大的基础设施支持。"><a href="#cloud-flare-提供强大的基础设施支持。" class="headerlink" title="cloud flare - 提供强大的基础设施支持。"></a><a href="https://www.cloudflare.com/">cloud flare</a> - 提供强大的基础设施支持。</h3><h3 id="telegram-便捷的-Bot-API。"><a href="#telegram-便捷的-Bot-API。" class="headerlink" title="telegram - 便捷的 Bot API。"></a><a href="https://telegram.org/">telegram</a> - 便捷的 Bot API。</h3><h3 id="感谢-xAI-claude-帮助我完成了本项目的开发和优化"><a href="#感谢-xAI-claude-帮助我完成了本项目的开发和优化" class="headerlink" title="感谢 xAI   claude 帮助我完成了本项目的开发和优化"></a>感谢 <a href="https://x.ai/">xAI</a>   <a href="https://claude.ai/">claude</a> 帮助我完成了本项目的开发和优化</h3><h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><ul>
<li><strong>尊重原创，转载须知</strong><br>如需转载，请务必注明出处，感谢支持！严禁将本项目用于任何违法犯罪行为。</li>
<li><strong>二次修改与发布</strong><br>欢迎基于本项目进行二次开发，但请在发布时注明原始出处，共同维护开源社区的良好氛围。</li>
</ul>
]]></content>
      <categories>
        <category>GitHub</category>
        <category>个人项目</category>
        <category>telegram</category>
        <category>图床搭建</category>
        <category>cloudflare</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>个人项目</tag>
        <tag>telegram</tag>
        <tag>cloudflare</tag>
        <tag>图床搭建</tag>
        <tag>图床</tag>
      </tags>
  </entry>
  <entry>
    <title>你好!新中国！</title>
    <url>/p/china/</url>
    <content><![CDATA[<p>我爱你亲爱的祖国！</p>
<p><img src="https://tc-212.pages.dev/1743856485768.png" alt="中国"></p>
]]></content>
      <categories>
        <category>中国</category>
      </categories>
      <tags>
        <tag>中国</tag>
      </tags>
  </entry>
  <entry>
    <title>测试</title>
    <url>/p/test/</url>
    <content><![CDATA[<h2 id="第一步：开始工作前，先“听”一次"><a href="#第一步：开始工作前，先“听”一次" class="headerlink" title="第一步：开始工作前，先“听”一次"></a>第一步：开始工作前，先“听”一次</h2><ul>
<li>在您准备修改任何东西之前，先运行 <code>pull</code> 命令</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull origin main</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>本地预览</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure>

<ul>
<li>​<strong>提交所有修改</strong>​：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;修改的大致内容&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>修改后后推送</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin main</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
</search>
